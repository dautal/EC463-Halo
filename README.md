# Halo - a Smart Drink Protector

This repo includes the code used for the Arduino. 

The Arduino code consists of two main components: measuring the voltage and accelerometer data and transmitting that data over Bluetooth Low Energy (BLE). The sketch begins by including the necessary libraries, including the ArduinoBLE and Arduino_LSM9DS1 libraries.
The code sets up a BLE service and characteristic for transmitting the voltage data. The program then initializes the IMU (inertial measurement unit) to read accelerometer data. In the loop function, the program waits for a central device to connect to the peripheral. Once a connection is established, the program enters a loop that updates the voltage and accelerometer data at a specified refresh rate (dispRefresh). This data is then transmitted to the central device over BLE using the VoltageChar.writeValue() function.
The collectPoints() function collects a series of analog. The number of readings collected is determined by the AVG_WINDOW constant, and the sampleInterval specifies the time between each reading. The computeAvg() function then computes the average of the readings. The updateVoltage() function first calls collectPoints() to collect a series of voltage readings, and then computes the average voltage and the acceleration data from the IMU. This data is then formatted as a string and sent over BLE using VoltageChar.writeValue(). The voltage data is also stored in the voltage variable for reference. Overall, this code reads voltage and accelerometer data and transmits it over BLE using the ArduinoBLE library.
